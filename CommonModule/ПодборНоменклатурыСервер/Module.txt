  Функция СохранитьПараметрыПодбора(ОбъектМетаданных,Форма,элементыформы,ИмяЭлемента=неопределено) экспорт
	  Если ИмяЭлемента = неопределено тогда
		  ИмяЭлемента = "ПодборНоменклатуры";
	  КонецЕсли;
	  Настройки = новый Структура("РежимПросмотра,ОтображениеГрупп",СтрЗаменить(Строка(элементыформы[ИмяЭлемента].Отображение)," ",""),элементыформы.кнГруппы.Пометка);
	  НаборЗаписей=РегистрыСведений.ДопНастройкиФорм.СоздатьНаборЗаписей();
	  Наборзаписей.Отбор.Пользователь.установить(параметрыСеанса.ТекущийПользователь);
	  НаборЗаписей.Отбор.объектМД.установить(ОбъектМетаданных);
	  НаборЗаписей.Отбор.Форма.установить(Форма);
	  наборЗаписей.Прочитать();
	  НАборЗаписей.Очистить();
	  НаборЗаписей.Записать();
	  НоваяЗапись = НаборЗаписей.Добавить();
	  НоваяЗапись.Пользователь = параметрыСеанса.ТекущийПользователь;
	  НоваяЗапись.ОбъектМД = ОбъектМетаданных;                                                  
	  НоваяЗапись.форма = форма;
	  НоваяЗапись.настройка= новый ХранилищеЗначения(НАстройки);
	  НаборЗаписей.Записать();
  КонецФункции
  
  Функция ПолучитьНастройкуподбора(объектметаданных,форма) экспорт
	 настройка = неопределено;
	 запрос = новый запрос;
	 запрос.Текст = "ВЫБРАТЬ
	 |	ДопНастройкиФорм.Настройка
	 |ИЗ
	 |	РегистрСведений.ДопНастройкиФорм КАК ДопНастройкиФорм
	 |ГДЕ
	 |	ДопНастройкиФорм.Пользователь = &Пользователь
	 |	И ДопНастройкиФорм.ОбъектМД = &ОбъектМетаданных
	 |	И ДопНастройкиФорм.Форма = &Форма";
	 запрос.УстановитьПараметр("объектметаданных",Объектметаданных);
	 запрос.УстановитьПараметр("Пользователь",параметрысеанса.ТекущийПользователь);
	 запрос.УстановитьПараметр("форма",форма);
	 рез = запрос.Выполнить();
	 выборка = рез.Выбрать();
	 пока выборка.Следующий() цикл
		 ХранНастройки= выборка.настройка;
		 настройка = хранНастройки.получить();
	 конеццикла;
	 возврат настройка;
 конецфункции
 
 
 