//++Минин
&НаКлиенте
Процедура ОткрытьФормуВыбораЗаказа(Команда)
	ФормаВыбора = ПолучитьФорму("Обработка.Izh_ТСД.Форма.ФормаВыбораЗаказа",,ЭтаФорма);
	ФормаВыбора.ЗакрыватьПриВыборе = Ложь;
	ФормаВыбора.Открыть();
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)
	Массив = ТаблицыРеализаций.НайтиСтроки(Новый Структура("Документ",ВыбранноеЗначение));
	Если Массив.Количество()=0 Тогда 
	Строка = ТаблицыРеализаций.Добавить();
	Строка.Документ = ВыбранноеЗначение;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура Сформировать(Команда)
	Список = СформироватьНаСервере();
	ЭтаФорма.Закрыть(Список);
КонецПроцедуры

&НаСервере
Функция  СформироватьНаСервере()
	Список = Новый СписокЗначений;
	ТЗ = ТаблицыРеализаций.Выгрузить();
	Для каждого Стр Из ТЗ Цикл
	    Список.Добавить(Стр.Документ);	
	КонецЦикла;
	Возврат Список;
КонецФункции
//--Минин