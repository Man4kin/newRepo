&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Дерево = УправлениеСвойствамиСервер.ЗаполнитьДеревоРеквизитов(Объект.Ссылка,"ФизическиеЛица","ДополнительныеРеквизитыФизическихЛиц");
	ЗначениеВДанныеФормы(Дерево,ДеревоСвойств);
	
	табКонтактнаяИнформация = УправлениеКонтактнойИнформациейСервер.ПриСозданииНаСервереКИ(Объект, Элементы.ТаблицаКонтактнойИнформацииВид, Объект.Ссылка);
	ЗначениеВРеквизитФормы(табКонтактнаяИнформация, "ТаблицаКонтактнойИнформации");
КонецПроцедуры

&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект)
	
	// Перенесем значения из таблицы значений свойств в табличную часть объекта
	УправлениеСвойствамиСервер.ПеренестиЗначенияСвойств(ТекущийОбъект.ДополнительныеРеквизиты, РеквизитФормыВЗначение("ДеревоСвойств"));
	
	// Перенесем значения из таблицы контактной информации в табличную часть объекта
	УправлениеКонтактнойИнформациейСервер.ПередЗаписьюНаСервереКИ(ТаблицаКонтактнойИнформации, ТекущийОбъект);
	
КонецПроцедуры

&НаКлиенте
Процедура ДеревоСвойствПриНачалеРедактирования(Элемент, НоваяСтрока, Копирование)
	УправлениеСвойствамиКлиент.ДеревоСвойствПриНачалеРедактирования(Элемент,Объект);
КонецПроцедуры

&НаКлиенте
Процедура ДеревоСвойствПриИзменении(Элемент)
	Модифицированность = Истина;
КонецПроцедуры

&НаКлиенте
Процедура ДеревоСвойствПередНачаломИзменения(Элемент, Отказ)
	Если Элемент.ТекущиеДанные.Картинка = 1 Тогда
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаКонтактнойИнформацииПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа)
	
	Отказ = Истина;
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаКонтактнойИнформацииПередУдалением(Элемент, Отказ)
	
	УправлениеКонтактнойИнформациейКлиент.КонтактнаяИнформацияПередУдалением(Модифицированность, Отказ, Элемент.ТекущиеДанные);
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаКонтактнойИнформацииПредставлениеПриИзменении(Элемент)
	
	УправлениеКонтактнойИнформациейКлиент.ПредставлениеПриИзменении(Модифицированность, Элементы.ТаблицаКонтактнойИнформации.ТекущиеДанные);
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаКонтактнойИнформацииПредставлениеОчистка(Элемент, СтандартнаяОбработка)
	
	УправлениеКонтактнойИнформациейКлиент.ПредставлениеОчистка(Модифицированность, Элементы.ТаблицаКонтактнойИнформации.ТекущиеДанные);
	
КонецПроцедуры

