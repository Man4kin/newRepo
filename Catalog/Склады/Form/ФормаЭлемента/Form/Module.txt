
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Элементы.ВидЗапасов.Доступность = Объект.Ссылка.Пустая();
	ТолькоПросмотр = НЕ ПараметрыСеанса.ЭтоЦентр;
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	УстановитьВидимостьДоступность();
КонецПроцедуры

&НаКлиенте
Процедура УстановитьВидимостьДоступность()
	
	 Элементы.Автопроизводство.Видимость = 
	 Объект.ВидСклада = ПредопределенноеЗначение("Перечисление.ВидыСкладов.Производство")
	 ИЛИ (Объект.ВидСклада = ПредопределенноеЗначение("Перечисление.ВидыСкладов.Розничный")
	 И ИспользоватьРозничныеСкладыВПроизводстве());
	
 КонецПроцедуры
 
 &НаСервере
Функция ИспользоватьРозничныеСкладыВПроизводстве()
	
	Возврат УправлениеПараметрамиСЕСервер.ПолучитьЗначениеСвойства(ПланыВидовХарактеристик.ПараметрыСтруктурныхЕдиниц.ИспользоватьРозничныеСкладыВПроизводстве, Объект.Владелец);
	
КонецФункции

&НаКлиенте
Процедура ВидСкладаПриИзменении(Элемент)
	УстановитьВидимостьДоступность();
КонецПроцедуры
	
	


