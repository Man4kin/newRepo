
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//Для Каждого СтрокаОтбора Из Параметры.Отбор Цикл
	//	Элементы.Список.ПодчиненныеЭлементы[СтрокаОтбора.Ключ].Видимость = Ложь;
	//КонецЦикла;	
	для каждого СтрокаОтбора из Параметры.Отбор цикл
		Если ТипЗнч(СтрокаОтбора.Значение) = Тип("СправочникСсылка.Контрагенты") тогда
			ИмяОтбора = "Контрагент";
		ИначеЕсли ТипЗнч(СтрокаОтбора.Значение ) = Тип("Справочникссылка.Номенклатура") тогда
			ИмяОтбора = "Номенклатура";
			//{{ШиловМВ 28.10.14 №000131638
			Если ПараметрыСеанса.ТекущаяСтруктурнаяЕдиница.ТипСтруктурнойЕдиницы = Перечисления.ТипыСтруктурныхЕдиниц.Склад Тогда
				//ЭлемОтбораКонтрПротоколРЦ = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
				//ЭлемОтбораКонтрПротоколРЦ.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Контрагент.ПротоколРЦ");
				//ЭлемОтбораКонтрПротоколРЦ.ПравоеЗначение = Истина;
				//ЭлемОтбораКонтрПротоколРЦ.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;
				//ЭлемОтбораКонтрПротоколРЦ.Использование = Истина;
				
				ЭлемУслОформл=Список.УсловноеОформление.Элементы.Добавить();
				ГрОтбораУслОформл=ЭлемУслОформл.Отбор.Элементы.Добавить(Тип("ГруппаЭлементовОтбораКомпоновкиДанных"));
				ГрОтбораУслОформл.ТипГруппы = ТипГруппыЭлементовОтбораКомпоновкиДанных.ГруппаИли;
				ЭлемОтбораУслОформл1=ГрОтбораУслОформл.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
				ЭлемОтбораУслОформл1.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Контрагент.ПротоколРЦ");
				ЭлемОтбораУслОформл1.ПравоеЗначение = Ложь;
				ЭлемОтбораУслОформл1.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;
				ЭлемОтбораУслОформл1.Использование = Истина;
				ЭлемОтбораУслОформл2=ГрОтбораУслОформл.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
				ЭлемОтбораУслОформл2.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Контрагент.Статус");
				ЭлемОтбораУслОформл2.ПравоеЗначение = Ложь;
				ЭлемОтбораУслОформл2.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;
				ЭлемОтбораУслОформл2.Использование = Истина;
				ГрОтбораУслОформл.Использование = Истина;
				ЭлемУслОформл.Оформление.Элементы[1].Значение = Новый Цвет(255, 0, 0);// Цвет шрифта красный
				ЭлемУслОформл.Оформление.Элементы[1].Использование = Истина;
				ЭлемПоляУслОформл=ЭлемУслОформл.Поля.Элементы.Добавить();
				ЭлемПоляУслОформл.Поле = Новый ПолеКомпоновкиДанных("Контрагент");
				ЭлемПоляУслОформл.Использование = Истина;
				ЭлемУслОформл.Использование = Истина;
			КонецЕсли;
			//ШиловМВ 28.10.14 №000131638}}
		Иначе
			Продолжить;
		Конецесли;
		//РаботаСФормамиСервер.УстановитьОтборУДинамическогоСпискаНаРавенство(Список.Отбор,ИмяОтбора,СтрокаОтбора.Значение);
		Элементы.Список.ПодчиненныеЭлементы[ИмяОтбора].Видимость = Ложь;
	конеццикла;
	//Параметры.Отбор.Очистить();
КонецПроцедуры
