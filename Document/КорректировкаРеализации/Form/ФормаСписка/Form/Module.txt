
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если ПараметрыСеанса.ЭтоЦентр Тогда
		Элементы.Список.ИзменятьСоставСтрок = Ложь;
	КонецЕсли;	
	//{БредовЮГ 2015-03-31 Наряд 000146494 от 31.03.2015 13:40:17
	Элементы.ФормаОбработанКРО.Видимость = НЕ ПараметрыСеанса.ЭтоЦентр;
	//БредовЮГ 2015-03-31 Наряд 000146494 от 31.03.2015 13:40:17}
	ОбщегоНазначенияСервер.ЗапретМодификацииОбъектов(Элементы.Список,Элементы.ФормаСоздатьНаОсновании);
	ДополнительныеОтчетыИОбработки.ПриСозданииНаСервере(ЭтаФорма);
КонецПроцедуры

&НаКлиенте
Процедура ВнешнееСобытие(Источник, Событие, Данные)
	Если ( Источник = "BarCodeScaner" ) И ( Событие = "BarCodeValue" ) Тогда
	Если Не ВводДоступен() Тогда
		КомпонентаСканераШК.СобытиеОбработано();
		Возврат;
	КонецЕсли;
		СтрокаТЧ=РаботаСоСканеромШККлиент.ОбработкаШтрихКодаВЖурналах(Данные,Элементы.Список);
		КомпонентаСканераШК.СобытиеОбработано();
	КонецЕсли;
КонецПроцедуры

&НаСервереБезКонтекста
Процедура ОбработанКРОНаСервере(Документ)
	РегистрыСведений.Izh_СостояниеДокумента.ЗафиксироватьДокумент(Документ,Перечисления.Izh_СостояниеДокумента.ОбработанКРО);
КонецПроцедуры

&НаКлиенте
Процедура ОбработанКРО(Команда)
	ОбработанКРОНаСервере(Элементы.Список.ТекущаяСтрока);
	Элементы.Список.Обновить();
КонецПроцедуры
