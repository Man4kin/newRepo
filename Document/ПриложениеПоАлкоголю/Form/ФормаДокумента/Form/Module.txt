
&НаКлиентеНаСервереБезКонтекста
Процедура УстановитьВидимость(Форма)
	
	Объект = Форма.Объект;
	
	Izh_РаботаСФормами.УстановитьВидимостьЭлементов(
		Форма,
		"СоставВидАлкогольнойПродукции, СоставПроизводитель",
		Объект.Поступление ИЛИ НЕ Объект.СозданАвтоматически
	);
	
КонецПроцедуры

&НаКлиенте
Процедура Перезаполнить(Команда)
	
	Режим = РежимДиалогаВопрос.ДаНет;
	Ответ = Вопрос(НСтр("ru = 'Документ будет полностью перезаполнен из документа ""'") + Объект.ДокОснование + НСтр("ru = '"". Продолжить выполнение операции?'"), Режим, 0);
	Если Ответ = КодВозвратаДиалога.Да Тогда
		ПерезаполнитьНаСервере();
	КонецЕсли;

КонецПроцедуры

&НаСервере
Процедура ПерезаполнитьНаСервере()
	
	Объект.Состав.Очистить();
	ОбъектЗначение = ДанныеФормыВЗначение(Объект,Тип("ДокументОбъект.ПриложениеПоАлкоголю"));
	ОбъектЗначение.Заполнить(Объект.ДокОснование);
	ЗначениеВДанныеФормы(ОбъектЗначение,Объект);
	
КонецПроцедуры	

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ОбщегоНазначенияСервер.ЗапретМодификацииОбъектов(ЭтаФорма);
	ДополнительныеОтчетыИОбработки.ПриСозданииНаСервере(ЭтаФорма);
	
	УстановитьВидимость(ЭтаФорма);
	
КонецПроцедуры

&НаКлиенте
Процедура СоставНоменклатураПриИзменении(Элемент)
	
	ТекущаяСтрока = Элементы.Состав.ТекущиеДанные;
	
	ОбработкаТабличныхЧастейКлиент.ЗаполнитьСтрокуТабличнойЧастиПоУмолчанию(ТекущаяСтрока, Элемент, Объект, "Состав");
	
КонецПроцедуры

&НаКлиенте
Процедура СоставЕдиницаИзмеренияПриИзменении(Элемент)
	
	ОбработкаТабличныхЧастейКлиент.ПриИзмененииЕдиницыИзмеренияВТабличнойЧасти(ЭтаФорма);
	
КонецПроцедуры

&НаКлиенте
Процедура НайтиТТН(Команда)
	Сообщить("Усиленно ищем ТТН...");
КонецПроцедуры
