
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
 //УправлениеПечатьюКлиент.ВыполнитьКомандуПечати("Документ.СчетФактура",
 //	"СчетФактура", ПараметрКоманды, ПараметрыВыполненияКоманды, Неопределено);
	 
	 СписокМакетов = ПолучитьСписокПечатаемыхМакетов(ПараметрКоманды);
	Если СписокМакетов <> "" Тогда 
		УправлениеПечатьюКлиент.ВыполнитьКомандуПечати("Документ.СчетФактура",
			СписокМакетов,
			ПараметрКоманды,
			ПараметрыВыполненияКоманды,
			Неопределено);
	КонецЕсли;

КонецПроцедуры

&НаСервере
Функция ПолучитьСписокПечатаемыхМакетов(ПараметрКоманды)
	
	СписокМакетов = "";
	ЕстьСчетФактура1137 = Ложь;
	ЕстьКорректировочныйСчетФактура1137 = Ложь;
	
	Для Каждого Объект Из ПараметрКоманды Цикл
		Если Объект.ВидСчетаФактуры = Перечисления.ВидСчетаФактурыВыставленного.Корректировочный Тогда
			Если Не ЕстьКорректировочныйСчетФактура1137 Тогда
				СписокМакетов = СписокМакетов + ?(СписокМакетов="","КорректировочныйСчетФактура1137",",КорректировочныйСчетФактура1137");
				ЕстьКорректировочныйСчетФактура1137 = Истина;
			КонецЕсли;
		Иначе
			Если Не ЕстьСчетФактура1137 Тогда
				СписокМакетов = СписокМакетов + ?(СписокМакетов="","СчетФактура1137",",СчетФактура1137");
				ЕстьСчетФактура1137 = Истина;
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
	
	Возврат СписокМакетов;
	
КонецФункции
